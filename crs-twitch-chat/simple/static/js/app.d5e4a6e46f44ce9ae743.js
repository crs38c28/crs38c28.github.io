webpackJsonp([1],{"/Tf+":function(t,e){},0:function(t,e){},1:function(t,e){},B09M:function(t,e){},KebR:function(t,e){t.exports={BTTV:!0,FFZ:!0,client_id:"apbhlybpld3ybc6grv5c118xqpoz01c",bot_command:!0,bot_list:["nightbot","moobot"],LINE_MAX:15}},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r,c,o,i,u,p,l,d,f,m,h=n("VU/8")({name:"App"},a,!1,function(t){n("Tbbu")},null,null).exports,b=n("/ocq"),g=n("Xxa5"),v=n.n(g),x=n("exGp"),_=n.n(x),y=n("woOf"),w=n.n(y),k=n("//Fk"),T=n.n(k),F=n("d7EF"),E=n.n(F),C=n("c/Tr"),M=n.n(C),O=n("OInM"),j=n("OrRL"),z=n.n(j),A=n("CqTI"),B=n.n(A),L=(r=_()(v.a.mark(function t(e){var n,s;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return u=e,p=new O.EmoteFetcher,l=new O.Channel(p,u),d=new O.EmoteParser(p,{template:'<img class="emoticon" src="{size1x}" srcset="{size2x} 2x, {size4x} 4x">',match:/(?:^|\s+)([a-zA-Z0-9_]+?)(?=$|\s+)/g}),f={connection:{reconnect:!0},channels:["#"+u],identity:{username:"justinfan5566",password:"oauth:xxx"}},m=new z.a.Client(f),t.next=8,fetch("https://api.twitch.tv/v5/users?login="+u+"&client_id="+P.client_id);case 8:return n=t.sent,t.next=11,n.json();case 11:return s=t.sent,t.abrupt("return",s.users[0]._id);case 13:case"end":return t.stop()}},t,this)})),function(t){return r.apply(this,arguments)}),$=(c=_()(v.a.mark(function t(e){var n,s,a,r;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return N(),t.next=3,T.a.all([H(),I(e)]);case 3:return n=t.sent,s=E()(n,2),a=s[0],void 0!==(r=s[1]).bits&&delete a.bits,void 0!==r.subscriber&&delete a.subscriber,w()(a,r),t.abrupt("return",a);case 11:case"end":return t.stop()}},t,this)})),function(t){return c.apply(this,arguments)}),H=(o=_()(v.a.mark(function t(){var e,n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://badges.twitch.tv/v1/badges/global/display");case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n.badge_sets);case 7:case"end":return t.stop()}},t,this)})),function(){return o.apply(this,arguments)}),I=(i=_()(v.a.mark(function t(e){var n,s;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://badges.twitch.tv/v1/badges/channels/"+e+"/display");case 2:return n=t.sent,t.next=5,n.json();case 5:return s=t.sent,t.abrupt("return",s.badge_sets);case 7:case"end":return t.stop()}},t,this)})),function(t){return i.apply(this,arguments)}),P=n("KebR"),R={"display-name":"System",color:"#000000","message-type":"chat"};function V(t,e){return function(t){return B.a.parse(t)}(function(t){return d.FBparse(t)}(function(t,e){var n="http://static-cdn.jtvnw.net/emoticons/v1/",s=M()(t);for(var a in e){var r=e[a];for(var c in r){var o=r[c];if("string"==typeof o){o=o.split("-");var i=(o=[parseInt(o[0]),parseInt(o[1])])[1]-o[0],u=Array.apply(null,new Array(i+1)).map(function(){return""});(s=s.slice(0,o[0]).concat(u).concat(s.slice(o[1]+1,s.length))).splice(o[0],1,'<img class="emoticon" src="'+n+a+'/1.0" srcset="'+n+a+"/2.0 2x, "+n+a+'/3.0 4x">')}}}return s.join("")}(t,e)))}function N(){P.FFZ&&l.fetchFFZEmotes(),P.BTTV&&p.fetchBTTVEmotes()}O.EmoteParser.prototype.FBparse=function(t){var e=this;return t.replace(this.options.match,function(t,n){var s=e.fetcher.emotes.get(n);return s?e.options.template.replace(/{name}/g,s.code).replace(/{size1x}/g,s.toLink(0)).replace(/{size2x}/g,s.toLink(1)).replace(/{size4x}/g,s.toLink(2)).replace(/{creator}/g,s.ownerName||"global"):t})};var U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",{staticClass:"badges"},t._l(t.state.badges,function(e,s,a){return n("span",{key:a,staticClass:"badge",class:s,style:t.getbadageurl(t.bdg[s],e)})}))},staticRenderFns:[]};var Z={name:"chatbox",components:{badges:n("VU/8")({name:"badges",props:["state","bdg"],methods:{getbadageurl:function(t,e){return{background:"url("+t.versions[e].image_url_1x+")"}}}},U,!1,function(t){n("B09M")},null,null).exports},data:function(){return{msg:[],bdg:[],nid:0}},watch:{msg:function(){this.msg.length>P.LINE_MAX&&this.msg.pop()}},methods:{getbdg:function(){return this.bdg},twitchevent:function(){var t=this;m.on("connecting",function(e,n){t.msg.unshift({state:R,text:"Connecting to server [#"+t.$route.params.id+"@"+e+":"+n+"]"})}),m.on("connected",function(e,n){t.msg.unshift({state:R,text:"Connected."})}),m.on("disconnected",function(e){t.msg.unshift({state:R,text:"Disconnected."})}),m.on("chat",function(e,n,s,a){if(!P.bot_command){if(-1!==P.bot_list.indexOf(n.username))return 0;if("!"===s[0])return 0}t.msg.unshift({state:n,text:V(s,n.emotes)})}),m.on("action",function(e,n,s,a){if(!P.bot_command&&-1!==P.bot_list.indexOf(n.username))return 0;t.msg.unshift({state:n,text:V(s,n.emotes)})}),m.on("clearchat",function(e){t.msg.length=0,t.$forceUpdate()})}},mounted:function(){var t=this;return _()(v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L(t.$route.params.id);case 2:return t.nid=e.sent,e.next=5,$(t.nid);case 5:t.bdg=e.sent,m.connect(),t.twitchevent();case 8:case"end":return e.stop()}},e,t)}))()}},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"chatbox"}},t._l(t.msg,function(e,s){return n("div",{key:s,staticClass:"chat-line"},[n("badges",{attrs:{state:e.state,bdg:t.getbdg()}}),t._v(" "),n("span",{staticClass:"username",style:{color:e.state.color}},[t._v("\n      "+t._s(e.state["display-name"])+"\n    ")]),t._v(" "),"action"!==e.state["message-type"]?n("span",{staticClass:"colon"},[t._v(":")]):t._e(),t._v(" "),"chat"==e.state["message-type"]?n("span",{staticClass:"message",domProps:{innerHTML:t._s(e.text)}}):t._e(),t._v(" "),"action"==e.state["message-type"]?n("span",{staticClass:"action",style:{color:e.state.color},domProps:{innerHTML:t._s(e.text)}}):t._e()],1)}))},staticRenderFns:[]};var D=n("VU/8")(Z,q,!1,function(t){n("/Tf+")},null,null).exports;s.a.use(b.a);var S=new b.a({routes:[{path:"/channel/:id",name:"chatbox",component:D}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:S,components:{App:h},template:"<App/>"})},Tbbu:function(t,e){},su8w:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"delete",function(){return d});var s=n("J83B"),a=n.n(s);e.default=a.a;const r=a.a.version;e.version=r;const c=a.a.METHODS;e.METHODS=c;const o=a.a.acl;e.acl=o;const i=a.a.bind;e.bind=i;const u=a.a.checkout;e.checkout=u;const p=a.a.connect;e.connect=p;const l=a.a.copy;e.copy=l;const d=a.a.delete,f=a.a.get;e.get=f;const m=a.a.head;e.head=m;const h=a.a.link;e.link=h;const b=a.a.lock;e.lock=b;const g=a.a.merge;e.merge=g;const v=a.a.mkactivity;e.mkactivity=v;const x=a.a.mkcalendar;e.mkcalendar=x;const _=a.a.mkcol;e.mkcol=_;const y=a.a.move;e.move=y;const w=a.a.notify;e.notify=w;const k=a.a.options;e.options=k;const T=a.a.patch;e.patch=T;const F=a.a.post;e.post=F;const E=a.a.propfind;e.propfind=E;const C=a.a.proppatch;e.proppatch=C;const M=a.a.purge;e.purge=M;const O=a.a.put;e.put=O;const j=a.a.rebind;e.rebind=j;const z=a.a.report;e.report=z;const A=a.a.search;e.search=A;const B=a.a.subscribe;e.subscribe=B;const L=a.a.trace;e.trace=L;const $=a.a.unbind;e.unbind=$;const H=a.a.unlink;e.unlink=H;const I=a.a.unlock;e.unlock=I;const P=a.a.unsubscribe;e.unsubscribe=P;const R=a.a.brew;e.brew=R}},["NHnr"]);
//# sourceMappingURL=app.d5e4a6e46f44ce9ae743.js.map